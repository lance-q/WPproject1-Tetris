<html>

<head>
    <meta charset = "UTF-8">
    <meta name = "Tetrix" content = "Trial">
    <title> Tetris </title>
    
    <link rel="stylesheet" href="style.css">
</head>

<body onload = 'drawMap();'>
    <div id = "bodybackground">
        <div class = "container">
            <canvas id = "canvas" width = "300" height = "600"></canvas>
        </div>

        <div class = "sidebar">
            
            <h3> Next Block: <br/>
                <canvas id = "preview" width = "120" height = "180"></canvas>
            </h3>

            <div id="greetingMessage"></div>
            
            <h2> TETRIS </h2>
            <button id = "start" onclick = "startGame();"> START </button>

            <div class = "scoreboard">
                <h3> Score: 
                    <score id = "score">0</score>
                </h3>
            </div>

            <h3> Duration: 
                <timer id = "timer">00.00</timer>
            </h3>

            <script type = "text/javascript" src = "main.js"></script>
        </div>

        <div class = "leftbar">
            <image src="source/Tetris_logo.png" width="400" height="277.5"></image>
            <br/>
            <h2> Insturction: </h2>
            <p id = "instruction">
                <p>Press <strong>UP</strong> to rotate the block clockwise  </p>
                <p>Press <strong>LEFT</strong> or RIGHT to move the block</p>  
                <p>Press <strong>DOWN</strong> to speed up falling </p> 
                <p>Press <strong>SPACE</strong> to pause the game </p>
            </p>
        </div>

        <div id="audio">
            <button id = "audio" onclick = "changeAudio()">
                <image id = "audioimg" src="source/off.png" width="40" height="40"></image>
            </button>
        </div>

    </div>  
    <script>
        var audioState = 0;//0 is off, 1 is on
        var sound = new Audio("source/tetris_8bit_theme.mp3");
        sound.loop=true;
        
        function unmute()
        {
            var audio = document.getElementById('audioimg')
            audioState = 1;
            sound.play();
            audio.src = "source/on.png";
        }

        function mute()
        {
            var audio = document.getElementById('audioimg')
            audioState = 0;
            sound.pause();
            audio.src = "source/off.png";
        }

        function changeAudio()
        {
            if(audioState == 0) {unmute();}
            else {mute();}
        }
    </script>
</body>

</html>
